/* globals $, L */

var data = {
  type: 'Feature',
  geometry: {
    type: 'MultiPoint',
    coordinates: [
      [ -119.357451, 37.71333 ], [ -119.356508, 37.713971 ], [ -119.356728, 37.714246 ], [ -119.355607, 37.713782 ], [ -119.355704, 37.713987 ], [ -119.355459, 37.715253 ], [ -119.355677, 37.715051 ], [ -119.356635, 37.714266 ], [ -119.355579, 37.715017 ], [ -119.354703, 37.714124 ], [ -119.358828, 37.716258 ], [ -119.359343, 37.716311 ], [ -119.359104, 37.716028 ], [ -119.360039, 37.715126 ], [ -119.354354, 37.712887 ], [ -119.353866, 37.712942 ], [ -119.35391, 37.712085 ], [ -119.354138, 37.712901 ], [ -119.351987, 37.712583 ], [ -119.354212, 37.713061 ], [ -119.354236, 37.712998 ], [ -119.362963, 37.72015 ], [ -119.363315, 37.721837 ], [ -119.364712, 37.722439 ], [ -119.390408, 37.74025 ], [ -119.365561, 37.721737 ], [ -119.365786, 37.72185 ], [ -119.369239, 37.724043 ], [ -119.376541, 37.729555 ], [ -119.387718, 37.736439 ], [ -119.386303, 37.735854 ], [ -119.370312, 37.72676 ], [ -119.367846, 37.723431 ], [ -119.368363, 37.72324 ], [ -119.369887, 37.722047 ], [ -119.36877, 37.72307 ], [ -119.369059, 37.724226 ], [ -119.366961, 37.721241 ], [ -119.373393, 37.729762 ], [ -119.370715, 37.726599 ], [ -119.378964, 37.74341 ], [ -119.377959, 37.717649 ], [ -119.382373, 37.73533 ], [ -119.381886, 37.735773 ], [ -119.381991, 37.734923 ], [ -119.372324, 37.728288 ], [ -119.372317, 37.72827 ], [ -119.372272, 37.728577 ], [ -119.372434, 37.728169 ], [ -119.372347, 37.72836 ], [ -119.371383, 37.726856 ], [ -119.37161, 37.727699 ], [ -119.372252, 37.728298 ], [ -119.370597, 37.727304 ], [ -119.367811, 37.72217 ], [ -119.366788, 37.722767 ], [ -119.371052, 37.726646 ], [ -119.371602, 37.729249 ], [ -119.370701, 37.726626 ], [ -119.375691, 37.730752 ], [ -119.373655, 37.727144 ], [ -119.371252, 37.72511 ], [ -119.381468, 37.735871 ], [ -119.374151, 37.726791 ], [ -119.371469, 37.724628 ], [ -119.373957, 37.728264 ], [ -119.373969, 37.727282 ], [ -119.374441, 37.72711 ], [ -119.371217, 37.727517 ], [ -119.372081, 37.727833 ], [ -119.373974, 37.727164 ], [ -119.364488, 37.721038 ], [ -119.365536, 37.721873 ], [ -119.365791, 37.72212 ], [ -119.365663, 37.721537 ], [ -119.364737, 37.721538 ], [ -119.364761, 37.72151 ], [ -119.36271, 37.717667 ], [ -119.364298, 37.717095 ], [ -119.362524, 37.718095 ], [ -119.363089, 37.717642 ], [ -119.362444, 37.718069 ], [ -119.362865, 37.717664 ], [ -119.361165, 37.718212 ], [ -119.36369, 37.722181 ] 
    ]
  },
  properties: {
    time: [
      1427698888, 1427742032, 1427785232, 1427871719, 1427914833, 1427958033, 1428001233, 1428044463, 1428130832, 1428174033, 1428217251, 1428260432, 1428303661, 1428346815, 1428390032, 1428476473, 1428519633, 1428562837, 1428606032, 1428649232, 1428735632, 1428822032, 1428865234, 1428908432, 1428951693, 1428994832, 1429038033, 1429081264, 1429124453, 1429167632, 1429210832, 1429254032, 1429297294, 1429340433, 1429383650, 1429426835, 1429470063, 1429513232, 1429556479, 1429599632, 1429642871, 1429686011, 
1429729232, 1429772487, 1429815633, 1429858857, 1429945232, 1429988488, 1430031634, 1430074863, 1430118171, 1430161241, 1430204433, 1430247663, 1430290893, 1430334034, 1430377232, 1430420433, 1430463632, 1430506833, 1430593232, 1430636435, 1430679656, 1430766032, 1430809233, 1430852493, 1430938864, 1430982063, 1431068432, 1431111633, 1431154832, 1431198055, 1431241251, 1431284433, 1431327657, 1431370881, 1431414032, 1431457232, 1431500432, 1431543632, 1431586836, 1431630033, 1431673236, 1431846032, 
1431889311
    ]
  }
};
var NPMap = {
  div: 'map',
  baseLayers: [
    'mapbox-outdoors'
  ],
  center: {
    lat: 37.706514,
    lng: -119.349939
  },
  fullscreenControl: true,
  hooks: {
    init: function (callback) {
      L.npmap.util._.appendCssFile('http://www.nps.gov/npmap/dev/yose/sierra-nevada-bighorn-sheep/assets/css/app.css');
      new L.Playback(NPMap.config.L, data, null, {
        dateControl: false,
        marker: {
          icon: L.npmap.icon.maki({
            'marker-color': '#ffa448',
            'marker-size': 'medium',
            'marker-symbol': 'circle-stroked'
          })
        },
        playControl: true,
        sliderControl: true,
        tickLen: 3000
      });
      $(document).ready(function () {
        $('div.leaflet-bottom.leaflet-left').prepend('<p><b>3/28/2015 to 5/17/2015</b></p>');
      });
      callback();
    }
  },
  
  plugins: [{
    js: 'http://www.nps.gov/npmap/dev/yose/sierra-nevada-bighorn-sheep/assets/libs/LeafletPlayback.min.js'
  }, {
    js: 'https://code.jquery.com/jquery-1.11.0.min.js'
  }],
  zoom: 15,
  maxZoom: 15
};
var s = document.createElement('script');

s.src = 'http://www.nps.gov/lib/npmap.js/3.0.8/npmap-bootstrap.min.js';
document.body.appendChild(s);
