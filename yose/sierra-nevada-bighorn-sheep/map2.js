/* globals $, L */

var data = {
  type: 'Feature',
  geometry: {
    type: 'MultiPoint',
    coordinates: [
     [ -119.35056040000001, 37.71360297 ], [ -119.3528129, 37.71344988 ], [ -119.3561078, 37.7146907 ], [ -119.3552322, 37.71519482 ], [ -119.35512060000001, 37.71510693 ], [ -119.3562841, 37.715345 ], [ -119.35511820000001, 37.71509797 ], [ -119.3558158, 37.71613836 ], [ -119.3552146, 37.71499692 ], [ -119.3551841, 37.71606989 ], [ -119.3551477, 37.71513343 ], [ -119.35467010000001, 37.71560255 ], [ -119.3504999, 37.71226147 ], [ -119.3507611, 37.71467132 ], [ -119.35058890000001, 37.71238586 ], [ -119.3505171, 37.71218904 ], [ -119.35081750000001, 37.71172346 ], [ -119.346929, 37.71056641 ], [ -119.3465025, 37.70897988 ], [ -119.3471052, 37.71054488 ], [ -119.3464252, 37.70898142 ], [ -119.3477336, 37.71586712 ], [ -119.3481314, 37.71646296 ], [ -119.3442735, 37.71733278 ], [ -119.3478898, 37.71660294 ], [ -119.34476340000001, 37.72174764 ], [ -119.3320133, 37.73122837 ], [ -119.33120460000001, 37.73760644 ], [ -119.3400438, 37.74267583 ], [ -119.3405355, 37.7430085 ], [ -119.3387257, 37.75217298 ], [ -119.3363141, 37.75419433 ], [ -119.33859, 37.75230183 ], [ -119.3347606, 37.75748725 ], [ -119.3297346, 37.76005588 ], [ -119.3277672, 37.75802216 ], [ -119.32985, 37.76008064 ], [ -119.3308124, 37.75997148 ], [ -119.3055986, 37.75482656 ], [ -119.3077648, 37.75546901 ], [ -119.3081516, 37.75549748 ], [ -119.3130887, 37.75746425 ], [ -119.3061318, 37.75468095 ], [ -119.3050274, 37.7545674 ], [ -119.309827, 37.75634776 ], [ -119.32085170000001, 37.75617611 ], [ -119.3196141, 37.75627258 ], [ -119.3163727, 37.7574718 ], [ -119.31087580000001, 37.75616498 ], [ -119.3157268, 37.7577999 ], [ -119.3082683, 37.75578355 ], [ -119.3153566, 37.7575098 ], [ -119.3131638, 37.75816566 ], [ -119.3068634, 37.75484685 ], [ -119.3173797, 37.75646074 ], [ -119.2971867, 37.75099883 ], [ -119.2986102, 37.74814147 ], [ -119.2958132, 37.75017853 ], [ -119.2977875, 37.74892349 ], [ -119.3025952, 37.74677501 ], [ -119.2965638, 37.74912758 ], [ -119.2967104, 37.75049447 ], [ -119.2898187, 37.74963737 ], [ -119.2908155, 37.74923951 ], [ -119.2892636, 37.74940485 ], [ -119.2890821, 37.74945343 ], [ -119.289204, 37.74986559 ], [ -119.28935060000001, 37.74751976 ], [ -119.29402450000001, 37.76083788 ], [ -119.3138252, 37.77617548 ], [ -119.333855, 37.78670202 ], [ -119.343308, 37.7925609 ], [ -119.3376999, 37.79373571 ], [ -119.3385723, 37.7938085 ], [ -119.3374386, 37.79337143 ], [ -119.3437528, 37.79309273 ], [ -119.3407413, 37.79308955 ], [ -119.3422492, 37.79265406 ], [ -119.3299572, 37.78555366 ], [ -119.3037453, 37.76851513 ], [ -119.2939334, 37.76041611 ], [ -119.2899646, 37.74936419 ], [ -119.2887959, 37.74918865 ], [ -119.2900006, 37.74938151 ], [ -119.2899612, 37.74939129 ], [ -119.2828434, 37.74929514 ], [ -119.2887547, 37.74961299 ], [ -119.2924622, 37.74060152 ], [ -119.2946216, 37.74085686 ], [ -119.2950276, 37.73944316 ], [ -119.294093, 37.74156104 ], [ -119.2962065, 37.73834783 ], [ -119.2944342, 37.73749923 ], [ -119.2904736, 37.73940563 ], [ -119.2909544, 37.73969366 ], [ -119.2854139, 37.72926683 ]
    ]
  },
  properties: {
    time: [
      1431846032, 1431889264, 1431932432, 1431975632, 1432018832, 1432062032, 1432105232, 1432148495, 1432191632, 1432234863, 1432278032, 1432321232, 1432364432, 1432407717, 1432450839, 1432494032, 1432537262, 1432666851, 1432710032, 1432753232, 1432796432, 1432839632, 1432882832, 1432926115, 1432969232, 1433012464, 1433055632, 1433098857, 1433142033, 1433185233, 1433228433, 1433271632, 1433314833, 1433358033, 1433401233, 1433444432, 1433487663, 1433530832, 1433617232, 1433660432, 1433703632, 1433746832, 
1433790032, 1433833232, 1433876432, 1433919633, 1433962832, 1434006032, 1434049232, 1434092432, 1434135633, 1434178833, 1434265232, 1434308432, 1434351632, 1434394851, 1434438032, 1434481232, 1434524432, 1434567633, 1434610832, 1434654032, 1434697232, 1434740435, 1434783632, 1434826862, 1434870033, 1434913233, 1434956457, 1434999747, 1435042832, 1435086123, 1435129233, 1435172443, 1435215633, 1435258861, 1435302033, 1435345242, 1435388432, 1435431663, 1435474893, 1435518032, 1435561233, 1435604433, 
1435647632, 1435690857, 1435734033, 1435777232, 1435820432, 1435863653, 1435906863, 1435950093, 1435993263, 1436036465, 1436079771, 1436122864
    ]
  }
};
var NPMap = {
  div: 'map',
  baseLayers: [
    'mapbox-outdoors'
  ],
  center: {
    lat: 37.706514,
    lng: -119.349939
  },
  fullscreenControl: true,
  hooks: {
    init: function (callback) {
      L.npmap.util._.appendCssFile('http://www.nps.gov/npmap/dev/yose/sierra-nevada-bighorn-sheep/assets/css/app.css');
      new L.Playback(NPMap.config.L, data, null, {
        dateControl: false,
        marker: {
          icon: L.npmap.icon.maki({
            'marker-color': '#ffa448',
            'marker-size': 'medium',
            'marker-symbol': 'circle-stroked'
          })
        },
        playControl: true,
        sliderControl: true,
        tickLen: 3000
      });
      $(document).ready(function () {
        $('div.leaflet-bottom.leaflet-left').prepend('<p><b>EWE S375: 5/17/2015 to 7/5/2015</b></p>');
      });
      callback();
    }
  },
  
  plugins: [{
    js: 'http://www.nps.gov/npmap/dev/yose/sierra-nevada-bighorn-sheep/assets/libs/LeafletPlayback.min.js'
  }, {
    js: 'https://code.jquery.com/jquery-1.11.0.min.js'
  }],
  zoom: 15,
  maxZoom: 15
};
var s = document.createElement('script');

s.src = 'http://www.nps.gov/lib/npmap.js/3.0.8/npmap-bootstrap.min.js';
document.body.appendChild(s);
